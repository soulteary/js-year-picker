(function(){var m=m||{};m.scope={};m.createTemplateTagFirstArg=function(l){return l.raw=l};m.createTemplateTagFirstArgWithRaw=function(l,q){l.raw=q;return l};m.arrayIteratorImpl=function(l){var q=0;return function(){return q<l.length?{done:!1,value:l[q++]}:{done:!0}}};m.arrayIterator=function(l){return{next:m.arrayIteratorImpl(l)}};
m.makeIterator=function(l){var q="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];if(q)return q.call(l);if("number"==typeof l.length)return m.arrayIterator(l);throw Error(String(l)+" is not an iterable or ArrayLike");};
window.YearPicker=function(l,q){function v(g){return g.classList.contains("year-picker-item-disabled")}function r(g){e.Options&&e.Options.updater&&"function"===typeof e.Options.updater&&(e.Selected.sort(function(b,k){return b-k}),e.Options.updater(e.Selected,g,e))}function u(g){var b=document.querySelector("#"+e.ComponentId),k=m.makeIterator(e.Selected),f=k.next().value;k=k.next().value;var n=b.querySelector(".year-picker-start-box .year-picker-selected span"),h=b.querySelector(".year-picker-end-box .year-picker-selected span");
n.innerText=f;h.innerText=k;f=b.querySelectorAll(".year-picker-start-box .year-picker-item");b=b.querySelectorAll(".year-picker-end-box .year-picker-item");w(f,!0,g);w(b,!1,g)}function p(g,b){switch(b){case "normal":g.className="year-picker-item";break;case "disabled":g.className="year-picker-item year-picker-item-disabled";break;case "selected":g.className="year-picker-item year-picker-item-selected";break;case "boundary":g.className="year-picker-item year-picker-item-boundary"}}function t(g,b){setTimeout(function(){b?
g.scrollIntoView({behavior:"smooth",block:"center"}):g.scrollIntoView({block:"center"})},50)}function w(g,b,k){var f=m.makeIterator(e.Selected),n=f.next().value;f=f.next().value;var h=m.makeIterator(e.Selected);var c=h.next().value;h=h.next().value;c=b?c===h?"same":"start":c===h?"same":"end";for(h=0;h<g.length;h++){var a=g[h],d=parseInt(a.getAttribute("data-year"));switch(c){case "same":b?d<n?p(a,"normal"):d===n?(p(a,"boundary"),t(a,k)):p(a,"disabled"):d<n?p(a,"disabled"):d===f?(p(a,"boundary"),t(a,
k)):p(a,"normal");break;case "start":d<n?p(a,"normal"):d>f?p(a,"disabled"):d===n?(p(a,"boundary"),t(a,k)):p(a,"selected");break;case "end":d<=n?p(a,"disabled"):d>f?p(a,"normal"):d===f?(p(a,"boundary"),t(a,k)):p(a,"selected")}}}function x(g,b,k,f){function n(h){var c="";h.forEach(function(a){var d=a.year;c+='<div class="'+("disabled"===a.state?"year-picker-item year-picker-item-disabled":"year-picker-item")+'" data-year="'+d+'">'+d+"</div>"});return c}k=function(h,c){for(var a=[];h<=c;h++)a.push({year:h,
state:"normal"});return a}(k,f);k='\n      <div id="'+b+'" class="year-picker-container '+(e.Visiable?"":"hide")+'">\n        <div class="year-picker-box flex flex-row justify-between">\n          <div class="year-picker-start-box">\n            <div class="year-picker-tips">\u8d77\u59cb\u65f6\u95f4\uff08\u5e74\u4efd\uff09</div>\n            <div class="year-picker-selected">\n              <span></span>\n            </div>\n            <div class="year-picker-list">\n              '+n(k)+'\n            </div>\n          </div>\n          <div class="year-picker-line"></div>\n          <div class="year-picker-end-box">\n            <div class="year-picker-tips">\u7ed3\u675f\u65f6\u95f4\uff08\u5e74\u4efd\uff09</div>\n            <div class="year-picker-selected">\n              <span></span>\n            </div>\n            <div class="year-picker-list">\n              '+
n(k)+"\n            </div>\n          </div>\n        </div>\n      </div>\n    ";document.querySelector(g).innerHTML=k;g=document.getElementById(b).querySelector(".year-picker-start-box");b=document.getElementById(b).querySelector(".year-picker-end-box");g.addEventListener("click",function(h){var c=h.target,a=c.closest(".year-picker-container"),d=c.closest(".year-picker-item");d&&a&&!v(d)&&(c=parseInt(c.innerText),d=m.makeIterator(e.Selected),a=d.next().value,d=d.next().value,a&&d?c<=d&&(e.Selected=
[c,d]):e.Selected=a?c>=a?[a,c]:[c,a]:[c,c],u(!0),r(h))});b.addEventListener("click",function(h){var c=h.target,a=c.closest(".year-picker-container"),d=c.closest(".year-picker-item");d&&a&&!v(d)&&(c=parseInt(c.innerText),d=m.makeIterator(e.Selected),a=d.next().value,d=d.next().value,a&&d?c>=a&&(e.Selected=[a,c]):e.Selected=d?c<=d?[c,d]:[d,c]:[c,c],u(!0),r(h))})}q=void 0===q?{}:q;var e={ComponentId:"",Options:{},Selected:[],Visiable:!1,GetSelected:function(){return this.Selected},Show:function(){var g=
document.getElementById(e.ComponentId);g.className=g.className.replace(/\s?hide/g,"");e.Visiable=!0},Hide:function(){var g=document.getElementById(e.ComponentId);g.className+=" hide";e.Visiable=!1;r("submit")}};return function(g,b){b=void 0===b?{}:b;var k="year-picker-"+Math.random().toString(36).slice(-6);e.ComponentId=k;e.Options=b;var f=b.preselected,n=b.range;e.Visiable=!!b.visiable;f&&("number"===typeof f?e.Selected=[f,f]:Array.isArray(f)&&2===f.length&&(e.Selected=f.map(function(h){return Number(h)}).sort(function(h,
c){return h-c})));f=m.makeIterator(n||[1970,(new Date).getFullYear()]);b=f.next().value;f=f.next().value;f=m.makeIterator([b,f]);b=f.next().value;f=f.next().value;0===e.Selected.length?(n=(new Date).getFullYear(),e.Selected=[n-10,n]):(b>e.Selected[0]&&(b=e.Selected[0]),f<e.Selected[1]&&(f=e.Selected[1]));x(g,k,b,f);u();r("init");return e}(l,q)};}).call(this);
