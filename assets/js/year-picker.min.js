(function(){var m=m||{};m.scope={};m.createTemplateTagFirstArg=function(k){return k.raw=k};m.createTemplateTagFirstArgWithRaw=function(k,n){k.raw=n;return k};m.arrayIteratorImpl=function(k){var n=0;return function(){return n<k.length?{done:!1,value:k[n++]}:{done:!0}}};m.arrayIterator=function(k){return{next:m.arrayIteratorImpl(k)}};
m.makeIterator=function(k){var n="undefined"!=typeof Symbol&&Symbol.iterator&&k[Symbol.iterator];if(n)return n.call(k);if("number"==typeof k.length)return m.arrayIterator(k);throw Error(String(k)+" is not an iterable or ArrayLike");};
window.YearPicker=function(k,n){function u(e){return e.classList.contains("year-picker-item-disabled")}function r(e){a.Options&&a.Options.updater&&"function"===typeof a.Options.updater&&(a.Selected.sort(function(d,f){return d-f}),a.Options.updater(a.Selected,e,a))}function x(e){var d=document.querySelector('.year-picker-start-box .year-picker-item[data-year="'+e+'"]'),f=document.querySelector('.year-picker-end-box .year-picker-item[data-year="'+e+'"]');d.scrollIntoView({behavior:"smooth",block:"center"});
setTimeout(function(){f.scrollIntoView({behavior:"smooth",block:"center"})},100)}function w(e,d){e.forEach(function(f){if(!u(f)){var h=parseInt(f.innerText)===d;if(f)switch(h?"selected":"normal"){case "normal":f.className="year-picker-item";break;case "selected":f.className="year-picker-item year-picker-item-selected"}x(d)}})}function v(){var e=a.Selected[0],d=a.Selected[1]?a.Selected[1]:a.Selected[0],f=document.querySelector("#"+a.ComponentId+" .year-picker-start-box .year-picker-selected span"),
h=document.querySelector("#"+a.ComponentId+" .year-picker-end-box .year-picker-selected span");f.innerText=e;h.innerText=d;f=document.querySelectorAll("#"+a.ComponentId+" .year-picker-start-box .year-picker-item");h=document.querySelectorAll("#"+a.ComponentId+" .year-picker-end-box .year-picker-item");w(f,e);w(h,d)}function y(e,d,f,h){function p(l){var b="";l.forEach(function(g){var c=g.year;b+='<div class="'+("disabled"===g.state?"year-picker-item year-picker-item-disabled":"year-picker-item")+'" data-year="'+
c+'">'+c+"</div>"});return b}f=function(l,b){var g=l%5,c=b%5,t=[],q=(""+b).slice(-1);if(0<g)for(g=l-g;g<l;g++)t.push({year:g,state:"disabled"});for(;l<=b;l++)t.push({year:l,state:"normal"});if("9"!==q||4!==q)for(q=b+1;q<b+(5-c);q++)t.push({year:q,state:"disabled"});return t}(f,h);f='\n      <div id="'+d+'" class="year-picker-container '+(a.Visiable?"":"hide")+'">\n        <div class="year-picker-box flex flex-row justify-between">\n          <div class="year-picker-start-box">\n            <div class="year-picker-tips">\u8d77\u59cb\u65f6\u95f4\uff08\u5e74\u4efd\uff09</div>\n            <div class="year-picker-selected">\n              <span></span>\n            </div>\n            <div class="year-picker-list">\n              '+
p(f)+'\n            </div>\n          </div>\n          <div class="year-picker-line"></div>\n          <div class="year-picker-end-box">\n            <div class="year-picker-tips">\u7ed3\u675f\u65f6\u95f4\uff08\u5e74\u4efd\uff09</div>\n            <div class="year-picker-selected">\n              <span></span>\n            </div>\n            <div class="year-picker-list">\n              '+p(f)+"\n            </div>\n          </div>\n        </div>\n      </div>\n    ";document.querySelector(e).innerHTML=
f;e=document.getElementById(d).querySelector(".year-picker-start-box");d=document.getElementById(d).querySelector(".year-picker-end-box");e.addEventListener("click",function(l){var b=l.target,g=b.closest(".year-picker-container"),c=b.closest(".year-picker-item");c&&g&&!u(c)&&(b=parseInt(b.innerText),c=m.makeIterator(a.Selected),g=c.next().value,c=c.next().value,g&&c?b<=c&&(a.Selected=[b,c]):a.Selected=g?b>=g?[g,b]:[b,g]:[b,b],v(),r(l))});d.addEventListener("click",function(l){var b=l.target,g=b.closest(".year-picker-container"),
c=b.closest(".year-picker-item");c&&g&&!u(c)&&(b=parseInt(b.innerText),c=m.makeIterator(a.Selected),g=c.next().value,c=c.next().value,g&&c?b>=g&&(a.Selected=[g,b]):a.Selected=c?b<=c?[b,c]:[c,b]:[b,b],v(),r(l))})}n=void 0===n?{}:n;var a={ComponentId:"",Options:{},Selected:[],Visiable:!1,GetSelected:function(){return this.Selected},Show:function(){var e=document.getElementById(a.ComponentId);e.className=e.className.replace(/\s?hide/g,"");a.Visiable=!0},Hide:function(){var e=document.getElementById(a.ComponentId);
e.className+=" hide";a.Visiable=!1;r("submit")}};return function(e,d){d=void 0===d?{}:d;var f="year-picker-"+Math.random().toString(36).slice(-6);a.ComponentId=f;var h=a.Options=d,p=h.preselected;d=h.range;a.Visiable=!!h.visiable;p&&("number"===typeof p?a.Selected=[p]:Array.isArray(p)&&2===p.length&&(a.Selected=p.map(function(l){return Number(l)}).sort(function(l,b){return l-b})));0===a.Selected.length&&(h=(new Date).getFullYear(),a.Selected=[h-10,h]);h=m.makeIterator(d||[1970,(new Date).getFullYear()]);
d=h.next().value;h=h.next().value;y(e,f,d,h);v();r("init");return a}(k,n)};}).call(this);
